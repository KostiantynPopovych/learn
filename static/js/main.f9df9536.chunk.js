(this.webpackJsonplearn=this.webpackJsonplearn||[]).push([[0],{109:function(e,t,n){e.exports={Container:"sm_Container__2XsFN",Container_Right:"sm_Container_Right__4_LV2",Container_Right_Editor:"sm_Container_Right_Editor__1pL2q"}},110:function(e,t,n){e.exports={Container:"styles_Container__1vhHM",Container_Label:"styles_Container_Label__1Kc2T",Container_Input:"styles_Container_Input__1nNq0"}},124:function(e,t,n){e.exports={Header_Button:"sm_Header_Button__1uIxf"}},125:function(e,t,n){e.exports={Pulse:"sm_Pulse__2GGmv",pulsate:"sm_pulsate__1VjNH",Pulse_Visible:"sm_Pulse_Visible__1MF8B"}},175:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var c,i=n(0),a=n.n(i),r=n(49),o=n.n(r),s=(n(175),n(18)),u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)(e),n=Object(s.a)(t,2),c=n[0],a=n[1],r=Object(i.useCallback)((function(){a((function(e){return!e}))}),[]);return Object(i.useMemo)((function(){return[c,r,a]}),[c,a,r])},d=n(11),b={markDown:"",isEditing:!1,isLoading:!1},j={setMarkDown:function(e){},toggleIsEditing:function(){},toggleIsLoading:function(){}},l=Object(i.createContext)(b),O=Object(i.createContext)(j),f=Object(i.memo)((function(e){var t=e.children,n=Object(i.useState)(""),c=Object(s.a)(n,2),a=c[0],r=c[1],o=u(),b=Object(s.a)(o,2),j=b[0],f=b[1],v=u(),p=Object(s.a)(v,2),m=p[0],h=p[1],x=Object(i.useCallback)((function(e){r(e)}),[]);return Object(d.jsx)(l.Provider,{value:Object(i.useMemo)((function(){return{markDown:a,isEditing:j,isLoading:m}}),[a,j,m]),children:Object(d.jsx)(O.Provider,{value:Object(i.useMemo)((function(){return{setMarkDown:x,toggleIsEditing:f,toggleIsLoading:h}}),[x,f,h]),children:t})})})),v=n(1),p=n.n(v),m=n(5),h=n(17),x=n(2),_=function(){var e=Object(i.useContext)(O).toggleIsLoading,t=Object(i.useState)(new Set),n=Object(s.a)(t,2),c=n[0],a=n[1],r=Object(i.useState)(!1),o=Object(s.a)(r,2),u=o[0],d=o[1],b=Object(i.useState)(null),j=Object(s.a)(b,2),l=j[0],f=j[1],v=Object(i.useCallback)(function(){var t=Object(x.a)(p.a.mark((function t(n){var i,r,o=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.length>1&&void 0!==o[1]&&o[1],!c.has(n)){t.next=3;break}return t.abrupt("return");case 3:return d(!0),i||(e(),a(c.add(n))),t.prev=5,t.next=8,n;case 8:r=t.sent,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(5),r=t.t0,f([t.t0]);case 15:return t.prev=15,!i&&c.size&&e(),c.delete(n),d(!1),t.finish(15);case 20:return t.abrupt("return",r);case 21:case"end":return t.stop()}}),t,null,[[5,11,15,20]])})));return function(e){return t.apply(this,arguments)}}(),[e,c]);return Object(i.useMemo)((function(){return{isLoading:u,errors:l,request:v}}),[u,l,v])},C=n(23),g=n(149);!function(e){e.Sections="sections",e.Topics="topics",e.Permissions="permissions"}(c||(c={}));var I,k=Object({NODE_ENV:"production",PUBLIC_URL:"/learn",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyD1R3D79WoFOBpluaThHEhVBea6F1U1kGY",REACT_APP_AUTH_DOMAIN:"learn-2014c.firebaseapp.com",REACT_APP_PROJECT_ID:"learn-2014c",REACT_APP_STORAGE_BUCKET:"learn-2014c.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"390057819549",REACT_APP_APP_ID:"1:390057819549:web:ead6207bff1340a1768374"}),E={apiKey:k.REACT_APP_API_KEY,authDomain:k.REACT_APP_AUTH_DOMAIN,projectId:k.REACT_APP_PROJECT_ID,storageBucket:k.REACT_APP_STORAGE_BUCKET,messagingSenderId:k.REACT_APP_MESSAGING_SENDER_ID,appId:k.REACT_APP_APP_ID},S=Object(g.a)(E),T=Object(C.e)(),A=Object(C.a)(T,c.Sections),y=Object(C.a)(T,c.Topics),P=Object(C.a)(T,c.Permissions),w=n(35),M=function(e){var t=Object(w.j)(e);return Object(i.useMemo)((function(){return null===t||void 0===t?void 0:t.params}),[null===t||void 0===t?void 0:t.params])},N={topic:{_:"/topic",byId:"/topic/:topicId?"},auth:{_:"/auth"}},R={},D={receiveDetails:function(e){},updateDetails:function(e){}},L=Object(i.createContext)(R),H=Object(i.createContext)(D),B=Object(i.memo)((function(e){var t=e.children,n=M(N.topic.byId),c=Object(i.useContext)(O).setMarkDown,a=Object(i.useState)(R),r=Object(s.a)(a,2),o=r[0],u=r[1],b=_().request,j=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o[t]){e.next=2;break}return e.abrupt("return",o[t]);case 2:return n=Object(C.b)(y,t),e.next=5,b(Object(C.c)(n));case 5:return(c=e.sent)&&u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,Object(h.a)(Object(h.a)({},c.data()),{},{id:t})))})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,b]),l=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var c,i,a,r,s,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=d.length>1&&void 0!==d[1]&&d[1],i=o[null===n||void 0===n?void 0:n.topicId],a=Object(h.a)(Object(h.a)({},i),t),c){e.next=8;break}return r=Object(C.b)(y,t.id),s=Object(h.a)(Object(h.a)({},i),t),e.next=8,b(Object(C.h)(r,s));case 8:u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},null===n||void 0===n?void 0:n.topicId,a))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b,o,null===n||void 0===n?void 0:n.topicId]);return Object(i.useEffect)((function(){Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.topicId)||o[n.topicId]){e.next=3;break}return e.next=3,j(n.topicId);case 3:case"end":return e.stop()}}),e)})))()}),[null===n||void 0===n?void 0:n.topicId,j,o]),Object(i.useEffect)((function(){(null===n||void 0===n?void 0:n.topicId)&&o[n.topicId]&&c(o[n.topicId].content)}),[c,o,null===n||void 0===n?void 0:n.topicId]),Object(d.jsx)(L.Provider,{value:Object(i.useMemo)((function(){return o[(null===n||void 0===n?void 0:n.topicId)||""]}),[o,null===n||void 0===n?void 0:n.topicId]),children:Object(d.jsx)(H.Provider,{value:Object(i.useMemo)((function(){return{receiveDetails:j,updateDetails:l}}),[j,l]),children:t})})})),V=n(87),F=Object(V.a)(S),U="INPUT",K={write:!1,create:!1},G={user:null,isInitializing:!0},q={sendLink:function(e){},signIn:function(e){},logout:function(){}},z=Object(i.createContext)(G),J=Object(i.createContext)(q),W=Object(i.memo)((function(e){var t=e.children,n=Object(i.useState)(null),c=Object(s.a)(n,2),a=c[0],r=c[1],o=Object(i.useContext)(O).toggleIsLoading,u=_().request,b=Object(i.useState)(!0),j=Object(s.a)(b,2),l=j[0],f=j[1],v=Object(w.g)(),m=v.replace,g=v.location,I=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.next=3,Object(V.b)(F,t,{url:window.location.href,handleCodeInApp:!0});case 3:localStorage.setItem(U,t),o();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o]),k=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(C.b)(P,t),e.next=3,u(Object(C.c)(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),E=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),n=localStorage.getItem(U),e.next=4,Object(V.c)(F,n,t);case 4:return c=e.sent,e.next=7,k(c.user.uid);case 7:i=e.sent,r(Object(h.a)(Object(h.a)({},c.user),{},{permissions:(null===i||void 0===i?void 0:i.data())||K})),localStorage.removeItem(U),o(),m(N.topic._);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,o,k]),S=Object(i.useCallback)(Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.next=3,Object(V.d)(F);case 3:r(null),o();case 5:case"end":return e.stop()}}),e)}))),[o]);return Object(i.useEffect)((function(){var e=F.onAuthStateChanged(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,k(t.uid);case 3:n=e.sent,r(Object(h.a)(Object(h.a)({},t),{},{permissions:(null===(c=n)||void 0===c?void 0:c.data())||K}));case 5:f(!1),t&&g.pathname.includes(N.auth._)&&m(N.topic._);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[g,m,k]),Object(d.jsx)(z.Provider,{value:Object(i.useMemo)((function(){return{user:a,isInitializing:l}}),[a,l]),children:Object(d.jsx)(J.Provider,{value:Object(i.useMemo)((function(){return{sendLink:I,signIn:E,logout:S}}),[I,E,S]),children:t})})})),Y=n(63),X=n(106),Q=function(e,t){return{fieldName:e,type:t}};!function(e){e.Delete="delete",e.Edit="edit",e.Add="add"}(I||(I={}));var Z,$,ee=Q("isArchived","!="),te={},ne={sections:{}},ce={handleManageSection:function(e,t){}},ie=Object(i.createContext)(ne),ae=Object(i.createContext)(ce),re=Object(i.memo)((function(e){var t=e.children,n=_().request,c=Object(i.useState)(te),a=Object(s.a)(c,2),r=a[0],o=a[1];Object(i.useEffect)((function(){Object(x.a)(p.a.mark((function e(){var t,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(C.g)(A,Object(C.j)(ee.fieldName,ee.type,!0),Object(C.f)(ee.fieldName),Object(C.f)("name")),e.next=3,n(Object(C.d)(t));case 3:c=e.sent,i={},c&&Array.isArray(null===c||void 0===c?void 0:c.docs)&&c.docs.forEach((function(e){var t=e.data().name;i=Object(h.a)(Object(h.a)({},i),{},Object(m.a)({},e.id,{id:e.id,name:t}))})),o(i);case 7:case"end":return e.stop()}}),e)})))()}),[n]);var u=Object(i.useCallback)((function(e,t){o((function(n){if(e===I.Delete){var c=t.id;n[c];return Object(Y.a)(n,[c].map(X.a))}return Object(h.a)(Object(h.a)({},n),{},Object(m.a)({},t.id,e===I.Add?t:Object(h.a)(Object(h.a)({},n[t.id]),t)))}))}),[]);return Object(d.jsx)(ie.Provider,{value:Object(i.useMemo)((function(){return{sections:r}}),[r]),children:Object(d.jsx)(ae.Provider,{value:Object(i.useMemo)((function(){return{handleManageSection:u}}),[u]),children:t})})})),oe=Q("sectionId","=="),se=Q("isArchived","!="),ue={},de={topics:{}},be={receiveTopics:function(e){},handleManageTopic:function(e,t){}},je=Object(i.createContext)(de),le=Object(i.createContext)(be),Oe=Object(i.memo)((function(e){var t=e.children,n=_().request,c=Object(i.useState)(ue),a=Object(s.a)(c,2),r=a[0],o=a[1],u=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var c,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t]){e.next=2;break}return e.abrupt("return",r[t]);case 2:return c=Object(C.g)(y,Object(C.j)(se.fieldName,se.type,!0),Object(C.f)(se.fieldName),Object(C.j)(oe.fieldName,oe.type,t),Object(C.f)("name")),e.next=5,n(Object(C.d)(c));case 5:return i=e.sent,a={},i&&i.forEach((function(e){var n=e.data().name;a=Object(h.a)(Object(h.a)({},a),{},Object(m.a)({},e.id,{id:e.id,name:n,sectionId:t}))})),o((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(m.a)({},t,a))})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,n]),b=Object(i.useCallback)((function(e,t){o((function(n){if(e===I.Delete){var c=n[t.sectionId],i=t.id,a=(c[i],Object(Y.a)(c,[i].map(X.a)));return Object(h.a)(Object(h.a)({},n),{},Object(m.a)({},t.sectionId,Object(h.a)({},a)))}return Object(h.a)(Object(h.a)({},n),{},Object(m.a)({},t.sectionId,Object(h.a)(Object(h.a)({},n[t.sectionId]),{},Object(m.a)({},t.id,e===I.Add?t:Object(h.a)(Object(h.a)({},n[t.id]),t)))))}))}),[]);return Object(d.jsx)(je.Provider,{value:Object(i.useMemo)((function(){return{topics:r}}),[r]),children:Object(d.jsx)(le.Provider,{value:Object(i.useMemo)((function(){return{receiveTopics:u,handleManageTopic:b}}),[u,b]),children:t})})})),fe=Object(i.memo)((function(e){var t=e.children;return Object(d.jsx)(f,{children:Object(d.jsx)(W,{children:Object(d.jsx)(B,{children:Object(d.jsx)(re,{children:Object(d.jsx)(Oe,{children:t})})})})})})),ve=n(163),pe=(n(183),{menu:!1,md:!1,html:!0}),me=n(153),he=new(n.n(me).a),xe=function(){var e=Object(i.useContext)(l),t=e.isEditing,n=e.markDown,c=Object(i.useContext)(O).setMarkDown,a=Object(i.useRef)(null),r=Object(i.useCallback)((function(e){var t=e.text;c(t)}),[c]),o=Object(i.useCallback)((function(e){return he.render(e)}),[]);return Object(i.useEffect)((function(){a.current&&a.current.setView({menu:t,md:t,html:!0})}),[t]),Object(i.useMemo)((function(){return{mdEditorRef:a,handleRenderEditorHTML:o,handleMarkDownChange:r,markDown:n,isEditing:t}}),[a,r,o,n,t])},_e=(n(238),function(){var e=xe(),t=e.mdEditorRef,n=e.handleRenderEditorHTML,c=e.handleMarkDownChange,i=e.markDown,a=e.isEditing;return Object(d.jsx)(ve.a,{ref:t,renderHTML:n,value:i,onChange:c,readOnly:!a,view:pe})}),Ce=Object(i.memo)(_e),ge=n(126),Ie=n(309),ke=n(167),Ee=n(313),Se=n(314),Te=n(315),Ae=n(316),ye=n(80),Pe=n.n(ye),we=n(121),Me=n(168),Ne=n(311),Re={INPUT:{name:"input",validationRules:{required:!0}}},De=(n(239),function(e){var t=e.onSubmit,n=e.initialValues,c=Object(we.b)({defaultValues:n}),a=c.handleSubmit,r=c.control,o=Object(i.useCallback)((function(e){var t=e.field;return Object(d.jsx)(Ne.a,Object(h.a)(Object(h.a)({},t),{},{addonAfter:Object(d.jsx)("button",{type:"submit",children:Object(d.jsx)(Me.a,{})})}))}),[]);return Object(d.jsx)("form",{onSubmit:a(t),children:Object(d.jsx)(we.a,{control:r,rules:Re.INPUT.validationRules,name:Re.INPUT.name,render:o})})}),Le=Object(i.memo)(De),He=n(52),Be=n.n(He);($=Z||(Z={}))[$.Topics=c.Topics]="Topics",$[$.Sections=c.Sections]="Sections";var Ve=n(312),Fe=["parentId"],Ue=function(e){var t;return t={},Object(m.a)(t,Z.Topics,Object(C.b)(y,e)),Object(m.a)(t,Z.Sections,Object(C.b)(A,e)),t},Ke=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(i.useContext)(ae).handleManageSection,r=Object(i.useContext)(le).handleManageTopic,o=Object(i.useCallback)((function(){c(null)}),[]),u=Object(i.useCallback)((function(e,t,n){var c;(c={},Object(m.a)(c,Z.Sections,a),Object(m.a)(c,Z.Topics,r),c)[e](t,n)}),[r,a]),d=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,c,i,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,c=Object(Y.a)(t,Fe),i=Ue(c.id),a=i[c.entity],r={isArchived:!0},e.next=6,Object(C.i)(a,r);case 6:u(c.entity,I.Delete,Object(h.a)(Object(h.a)(Object(h.a)({},c),r),{},{sectionId:n})),o();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,u]),b=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var c,i,a,r,s,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.input,i=(null===n||void 0===n?void 0:n.id)||Object(Ve.a)(),a=(null===n||void 0===n?void 0:n.id)?void 0:"",r=null===n||void 0===n?void 0:n.parentId,s=Ue(i),d=s[n.entity],b=Object(h.a)(Object(h.a)({name:c,isArchived:!1},r?{sectionId:r}:{}),(null===n||void 0===n?void 0:n.entity)!==Z.Topics||(null===n||void 0===n?void 0:n.id)?{}:{content:a}),!(null===n||void 0===n?void 0:n.id)){e.next=12;break}return e.next=10,Object(C.i)(d,b);case 10:e.next=14;break;case 12:return e.next=14,Object(C.h)(d,b);case 14:u(null===n||void 0===n?void 0:n.entity,null===n||void 0===n?void 0:n.type,Object(h.a)(Object(h.a)({},b),{},{id:i})),o();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,o,u]),j=Object(i.useCallback)((function(e){return function(t){var n;t.stopPropagation(),(n={},Object(m.a)(n,I.Add,c),Object(m.a)(n,I.Edit,c),Object(m.a)(n,I.Delete,d),n)[e.type](e)}}),[d]);return Object(i.useMemo)((function(){return{handleManageEntityClick:j,activeAction:n,handleAddEditEntity:b,handleResetAction:o}}),[j,n,b,o])},Ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",c=Object(i.useRef)(t);Object(i.useEffect)((function(){c.current=t})),Object(i.useEffect)((function(){var t=function(t){e&&e.current&&(t.target.shadowRoot?t.target.shadowRoot.contains(e.current)||c.current(t):e.current.contains(t.target)||c.current(t))};return document.addEventListener(n,t),document.addEventListener("touchstart",t),function(){document.removeEventListener(n,t),document.removeEventListener("touchstart",t)}}))},qe=function(){var e=Ke(),t=e.activeAction,n=e.handleManageEntityClick,c=e.handleAddEditEntity,a=e.handleResetAction,r=Object(i.useRef)(null),o=Object(w.i)().topicId,s=Object(i.useContext)(L),u=Object(i.useContext)(z).user,d=Object(i.useContext)(ie).sections,b=Object(w.g)().push,j=Object(i.useMemo)((function(){return null===u||void 0===u?void 0:u.permissions.write}),[u]),l=Object(i.useContext)(H).receiveDetails,O=Object(i.useContext)(je).topics,f=Object(i.useContext)(le).receiveTopics,v=Object(i.useMemo)((function(){return[null===s||void 0===s?void 0:s.id]}),[null===s||void 0===s?void 0:s.id]),m=Object(i.useMemo)((function(){return(null===t||void 0===t?void 0:t.content)?{input:t.content}:void 0}),[t]),h=Object(i.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,e.next=3,f(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),_=Object(i.useCallback)((function(e){var t=e.key;t!==o&&b(N.topic.byId.replace(":topicId",t))}),[b,o]),C=Object(i.useCallback)((function(e){var t=e.key;l(t)}),[l]);return Ge(r,t?a:function(){}),Object(i.useMemo)((function(){return{handleTopicClick:_,topics:O,sections:d,handleOpenSection:h,handleTopicHover:C,details:s,selectedKeys:v,canCreate:j,handleManageEntityClick:n,activeAction:t,handleAddEditEntity:c,formInitialValues:m,formWrapRef:r,handleResetAction:a}}),[_,O,d,h,C,s,v,j,n,t,c,m,r,a])},ze=ge.a.SubMenu,Je=Ie.a.Sider,We=function(){var e=qe(),t=e.handleManageEntityClick,n=e.activeAction,c=e.topics,a=e.sections,r=e.handleTopicClick,o=e.handleOpenSection,s=e.handleTopicHover,u=e.details,b=e.selectedKeys,j=e.canCreate,l=e.handleAddEditEntity,O=e.formInitialValues,f=e.formWrapRef,v=Object(i.useCallback)((function(e){return Object(d.jsx)(ge.a.Item,{icon:Object(d.jsx)(ke.a,{className:Be.a.Topic,content:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ee.a,{onClick:t({id:e.id,content:e.name,type:I.Edit,entity:Z.Topics,parentId:e.sectionId}),className:Be.a.Topic_Edit}),Object(d.jsx)(Se.a,{onClick:t({id:e.id,type:I.Delete,entity:Z.Topics,parentId:e.sectionId})})]}),children:Object(d.jsx)(Te.a,{})},e.id),onMouseEnter:s,onClick:r,children:e.name},e.id)}),[r,s,t]),p=Object(i.useCallback)((function(e){return Object(d.jsxs)(ze,{className:Be.a.Section,title:e.name,onTitleMouseEnter:o,onTitleClick:o,icon:Object(d.jsx)(ke.a,{className:Be.a.Section,content:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ee.a,{onClick:t({id:e.id,content:e.name,type:I.Edit,entity:Z.Sections}),className:Be.a.Section_Edit}),Object(d.jsx)(Se.a,{onClick:t({id:e.id,type:I.Delete,entity:Z.Sections})})]}),children:Object(d.jsx)(Te.a,{})},e.id),children:[j&&Object(d.jsx)("button",{onClick:t({type:I.Add,parentId:e.id,entity:Z.Topics}),className:Be.a.AddMenuItem,children:Object(d.jsx)(Ae.a,{className:Pe.a.Icon})},"addTo-".concat(e.id)),Object.values(c[e.id]||{}).map(v)]},e.id)}),[o,c,v,j,t]);return Object(d.jsxs)(d.Fragment,{children:[n&&Object(d.jsx)("div",{className:Be.a.Background,children:Object(d.jsx)("div",{ref:f,className:Be.a.Background_Content,children:Object(d.jsx)(Le,{onSubmit:l,initialValues:O})})}),Object(d.jsxs)(Je,{children:[Object(d.jsx)("div",{className:Be.a.Logo,children:Object(d.jsx)("span",{children:"learn"})}),!!Object.values(a).length&&Object(d.jsxs)(ge.a,{mode:"inline",selectedKeys:b,activeKey:null===u||void 0===u?void 0:u.sectionId,children:[j&&Object(d.jsx)("button",{onClick:t({type:I.Add,entity:Z.Sections}),className:Be.a.AddMenuItem,children:Object(d.jsx)(Ae.a,{className:Pe.a.Icon})},"addToSections"),Object.values(a).map(p)]})]})]})},Ye=Object(i.memo)(We),Xe=n(310),Qe=n(317),Ze=n(318),$e=n(124),et=n.n($e),tt=function(){var e=Object(i.useContext)(O).toggleIsEditing,t=Object(i.useContext)(l),n=t.isEditing,c=t.markDown,a=Object(i.useContext)(z).user,r=Object(i.useMemo)((function(){return null===a||void 0===a?void 0:a.permissions.write}),[a]),o=Object(i.useContext)(L),s=Object(i.useContext)(H).updateDetails,u=Object(i.useContext)(ie).sections,d=Object(i.useCallback)((function(){o.content!==c&&s(Object(h.a)(Object(h.a)({},o),{},{content:c})),e()}),[s,o,c,e]);return Object(i.useMemo)((function(){var t;return{isEditing:n,toggleIsEditing:e,subTitle:null===o||void 0===o?void 0:o.name,title:null===(t=u[(null===o||void 0===o?void 0:o.sectionId)||""])||void 0===t?void 0:t.name,handleSaveClick:d,canEdit:r}}),[r,u,o,n,e,d])},nt=function(){var e=tt(),t=e.isEditing,n=e.toggleIsEditing,c=e.subTitle,i=e.title,a=e.handleSaveClick,r=e.canEdit;return Object(d.jsx)(Xe.a,{className:et.a.Header,title:i,subTitle:c,extra:r&&c?Object(d.jsx)("button",{className:et.a.Header_Button,onClick:t?a:n,children:t?Object(d.jsx)(Qe.a,{className:Pe.a.Icon}):Object(d.jsx)(Ze.a,{className:Pe.a.Icon})}):void 0})},ct=Object(i.memo)(nt),it=n(125),at=n.n(it),rt=n(10),ot=n.n(rt),st=function(e){var t=e.isVisible;return Object(d.jsx)("div",{className:ot()(at.a.Pulse,Object(i.useMemo)((function(){return Object(m.a)({},at.a.Pulse_Visible,t)}),[t]))})},ut=Object(i.memo)(st),dt=n(109),bt=n.n(dt),jt=function(){var e=Object(i.useContext)(l).isLoading;return Object(i.useMemo)((function(){return{isLoading:e}}),[e])},lt=function(){var e=jt().isLoading;return Object(d.jsxs)("div",{className:bt.a.Container,children:[Object(d.jsx)(ut,{isVisible:e}),Object(d.jsx)(Ye,{}),Object(d.jsxs)("div",{className:bt.a.Container_Right,children:[Object(d.jsx)(ct,{}),Object(d.jsx)("div",{className:bt.a.Container_Right_Editor,children:Object(d.jsx)(Ce,{})})]})]})},Ot=Object(i.memo)(lt),ft=function(){var e=Object(w.h)().search,t=Object(i.useContext)(J),n=t.sendLink,c=t.signIn,a=Object(i.useContext)(l).isLoading,r=Object(i.useContext)(z),o=r.user,s=r.isInitializing,u=Object(i.useCallback)((function(e){var t=e.input;n(t)}),[n]);return Object(i.useEffect)((function(){!e||o||s||c(window.location.href)}),[o,c,e,s]),Object(i.useMemo)((function(){return{handleSubmitForm:u,isLoading:a}}),[u,a])},vt=n(110),pt=n.n(vt),mt=function(){var e=ft(),t=e.handleSubmitForm,n=e.isLoading;return Object(d.jsxs)("div",{className:pt.a.Container,children:[Object(d.jsx)(ut,{isVisible:n}),Object(d.jsx)("div",{className:pt.a.Container_Label,children:Object(d.jsx)("span",{children:"learn"})}),Object(d.jsx)("div",{className:pt.a.Container_Input,children:Object(d.jsx)(Le,{onSubmit:t})})]})},ht=Object(i.memo)(mt),xt=["children"],_t=function(e){var t=e.children,n=Object(Y.a)(e,xt),c=Object(i.useContext)(z),a=c.user,r=c.isInitializing,o=Object(i.useCallback)((function(){return a?t:Object(d.jsx)(w.a,{to:N.auth._})}),[a,t]);return r?null:Object(d.jsx)(w.b,Object(h.a)(Object(h.a)({},n),{},{render:o}))},Ct=Object(i.memo)(_t),gt=n(66),It=function(){return Object(d.jsx)(gt.a,{children:Object(d.jsx)(fe,{children:Object(d.jsxs)(w.d,{children:[Object(d.jsx)(Ct,{exact:!0,path:N.topic.byId,children:Object(d.jsx)(Ot,{})}),Object(d.jsx)(w.b,{exact:!0,path:N.auth._,component:ht}),Object(d.jsx)(w.a,{to:N.topic._})]})})})},kt=Object(i.memo)(It),Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,319)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(kt,{})}),document.getElementById("root")),Et()},52:function(e,t,n){e.exports={Logo:"sm_Logo__2U1Hl",AddMenuItem:"sm_AddMenuItem__2jzuR",Section:"sm_Section__3d_N3",Section_Edit:"sm_Section_Edit__3e83X",Section_Content:"sm_Section_Content__21rJO",Section_Content_Icon:"sm_Section_Content_Icon__UJax7",Topic_Edit:"sm_Topic_Edit__1_JnU",Background:"sm_Background__4NWGd",Background_Content:"sm_Background_Content__1sEHv"}},80:function(e,t,n){e.exports={Icon:"shared_Icon__1wdyV"}}},[[307,1,2]]]);
//# sourceMappingURL=main.f9df9536.chunk.js.map